#!/bin/bash

# List of Pokémon
POKEMON_LIST=("bulbasaur" "ivysaur" "venusaur" "charmander" "charmeleon")

# Base URL for the Pokémon API
BASE_URL="https://pokeapi.co/api/v2/pokemon"

# Loop through each Pokémon in the list
for POKEMON in "${POKEMON_LIST[@]}"; do
    # Define the output file name
    OUTPUT_FILE="${POKEMON}.json"

    # Make the API request and save the response
    response=$(curl -s -w "%{http_code}" -o "$OUTPUT_FILE" "$BASE_URL/$POKEMON")

    # Check if the request was successful
    if [ "$response" -ne 200 ]; then
        echo "Error: Failed to retrieve data for $POKEMON. HTTP status code: $response" >> errors.txt
    else
        echo "Data successfully retrieved for $POKEMON and saved to $OUTPUT_FILE."
    fi

    # Add a delay to handle rate limiting
    sleep 1  # Delay for 1 second between requests
done
